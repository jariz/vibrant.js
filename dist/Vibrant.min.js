(function e$jscomp$0(v,w,y){function d(q,a){if(!w[q]){if(!v[q]){var e="function"==typeof require&&require;if(!a&&e)return e(q,!0);if(h)return h(q,!0);a=Error("Cannot find module '"+q+"'");throw a.code="MODULE_NOT_FOUND",a;}a=w[q]={exports:{}};v[q][0].call(a.exports,function(c){var b=v[q][1][c];return d(b?b:c)},a,a.exports,e$jscomp$0,v,w,y)}return w[q].exports}for(var h="function"==typeof require&&require,p=0;p<y.length;p++)d(y[p]);return d})({1:[function(v,w,y){if(!u)var u={map:function(d,h){var p=
{};return h?d.map(function(d,a){p.index=a;return h.call(p,d)}):d.slice()},naturalOrder:function(d,h){return d<h?-1:d>h?1:0},sum:function(d,h){var p={};return d.reduce(h?function(d,a,e){p.index=e;return d+h.call(p,a)}:function(d,a){return d+a},0)},max:function(d,h){return Math.max.apply(null,h?u.map(d,h):d)}};v=function(){function d(c){function b(){a.sort(c);e=!0}var a=[],e=!1;return{push:function(b){a.push(b);e=!1},peek:function(c){e||b();void 0===c&&(c=a.length-1);return a[c]},pop:function(){e||
b();return a.pop()},size:function(){return a.length},map:function(b){return a.map(b)},debug:function(){e||b();return a}}}function h(c,b,a,e,f,g,l){this.r1=c;this.r2=b;this.g1=a;this.g2=e;this.b1=f;this.b2=g;this.histo=l}function p(){this.vboxes=new d(function(c,b){return u.naturalOrder(c.vbox.count()*c.vbox.volume(),b.vbox.count()*b.vbox.volume())})}function q(c){var b=Array(32768),a,e,f,g;c.forEach(function(c){e=c[0]>>3;f=c[1]>>3;g=c[2]>>3;a=(e<<10)+(f<<5)+g;b[a]=(b[a]||0)+1});return b}function a(c,
b){var a=1E6,e=0,f=1E6,g=0,l=1E6,n=0,d,k,m;c.forEach(function(b){d=b[0]>>3;k=b[1]>>3;m=b[2]>>3;d<a?a=d:d>e&&(e=d);k<f?f=k:k>g&&(g=k);m<l?l=m:m>n&&(n=m)});return new h(a,e,f,g,l,n,b)}function e(c,b){function a(c){var a=c+"1";c+="2";for(k=b[a];k<=b[c];k++)if(n[k]>l/2){var e=b.copy();var f=b.copy();var r=k-b[a];var g=b[c]-k;for(r=r<=g?Math.min(b[c]-1,~~(k+g/2)):Math.max(b[a],~~(k-1-r/2));!n[r];)r++;for(g=d[r];!g&&n[r-1];)g=d[--r];e[c]=r;f[a]=e[c]+1;return[e,f]}}if(b.count()){var e=b.r2-b.r1+1,f=b.g2-
b.g1+1,g=u.max([e,f,b.b2-b.b1+1]);if(1==b.count())return[b.copy()];var l=0,n=[],d=[],k,m,t;if(g==e)for(k=b.r1;k<=b.r2;k++){var h=0;for(m=b.g1;m<=b.g2;m++)for(t=b.b1;t<=b.b2;t++){var p=(k<<10)+(m<<5)+t;h+=c[p]||0}l+=h;n[k]=l}else if(g==f)for(k=b.g1;k<=b.g2;k++){h=0;for(m=b.r1;m<=b.r2;m++)for(t=b.b1;t<=b.b2;t++)p=(m<<10)+(k<<5)+t,h+=c[p]||0;l+=h;n[k]=l}else for(k=b.b1;k<=b.b2;k++){h=0;for(m=b.r1;m<=b.r2;m++)for(t=b.g1;t<=b.g2;t++)p=(m<<10)+(t<<5)+k,h+=c[p]||0;l+=h;n[k]=l}n.forEach(function(b,c){d[c]=
l-b});return g==e?a("r"):g==f?a("g"):a("b")}}h.prototype={volume:function(c){if(!this._volume||c)this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1);return this._volume},count:function(c){var b=this.histo;if(!this._count_set||c){c=0;var a,e,f;for(a=this.r1;a<=this.r2;a++)for(e=this.g1;e<=this.g2;e++)for(f=this.b1;f<=this.b2;f++){var g=(a<<10)+(e<<5)+f;c+=b[g]||0}this._count=c;this._count_set=!0}return this._count},copy:function(){return new h(this.r1,this.r2,this.g1,this.g2,this.b1,
this.b2,this.histo)},avg:function(c){var b=this.histo;if(!this._avg||c){var a=c=0,e=0,f=0,g,l,n;for(g=this.r1;g<=this.r2;g++)for(l=this.g1;l<=this.g2;l++)for(n=this.b1;n<=this.b2;n++){var d=(g<<10)+(l<<5)+n;d=b[d]||0;c+=d;a+=d*(g+.5)*8;e+=d*(l+.5)*8;f+=d*(n+.5)*8}this._avg=c?[~~(a/c),~~(e/c),~~(f/c)]:[~~(8*(this.r1+this.r2+1)/2),~~(8*(this.g1+this.g2+1)/2),~~(8*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(c){var b=c[0]>>3;gval=c[1]>>3;bval=c[2]>>3;return b>=this.r1&&b<=this.r2&&gval>=
this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}};p.prototype={push:function(c){this.vboxes.push({vbox:c,color:c.avg()})},palette:function(){return this.vboxes.map(function(c){return c.color})},size:function(){return this.vboxes.size()},map:function(c){for(var b=this.vboxes,a=0;a<b.size();a++)if(b.peek(a).vbox.contains(c))return b.peek(a).color;return this.nearest(c)},nearest:function(c){for(var b=this.vboxes,a,e,f,g=0;g<b.size();g++)if(e=Math.sqrt(Math.pow(c[0]-b.peek(g).color[0],2)+Math.pow(c[1]-
b.peek(g).color[1],2)+Math.pow(c[2]-b.peek(g).color[2],2)),e<a||void 0===a)a=e,f=b.peek(g).color;return f},forcebw:function(){var a=this.vboxes;a.sort(function(b,a){return u.naturalOrder(u.sum(b.color),u.sum(a.color))});var b=a[0].color;5>b[0]&&5>b[1]&&5>b[2]&&(a[0].color=[0,0,0]);b=a.length-1;var e=a[b].color;251<e[0]&&251<e[1]&&251<e[2]&&(a[b].color=[255,255,255])}};return{quantize:function(c,b){function r(b,a){for(var c=1,g=0,f;1E3>g;)if(f=b.pop(),f.count()){var d=e(h,f);f=d[0];d=d[1];if(!f)break;
b.push(f);d&&(b.push(d),c++);if(c>=a)break;if(1E3<g++)break}else b.push(f),g++}if(!c.length||2>b||256<b)return!1;var h=q(c),f=0;h.forEach(function(){f++});var g=a(c,h);c=new d(function(b,a){return u.naturalOrder(b.count(),a.count())});c.push(g);r(c,.75*b);for(g=new d(function(b,a){return u.naturalOrder(b.count()*b.volume(),a.count()*a.volume())});c.size();)g.push(c.pop());r(g,b-g.size());for(b=new p;g.size();)b.push(g.pop());return b}}}();w.exports=v.quantize},{}],2:[function(v,w,y){(function(){var u,
d,h,p=function(a,e){return function(){return a.apply(e,arguments)}},q=[].slice;window.Swatch=d=function(){function a(a,c){this.rgb=a;this.population=c}a.prototype.hsl=void 0;a.prototype.rgb=void 0;a.prototype.population=1;a.yiq=0;a.prototype.getHsl=function(){return this.hsl?this.hsl:this.hsl=h.rgbToHsl(this.rgb[0],this.rgb[1],this.rgb[2])};a.prototype.getPopulation=function(){return this.population};a.prototype.getRgb=function(){return this.rgb};a.prototype.getHex=function(){return"#"+(16777216+
(this.rgb[0]<<16)+(this.rgb[1]<<8)+this.rgb[2]).toString(16).slice(1,7)};a.prototype.getTitleTextColor=function(){this._ensureTextColors();return 200>this.yiq?"#fff":"#000"};a.prototype.getBodyTextColor=function(){this._ensureTextColors();return 150>this.yiq?"#fff":"#000"};a.prototype._ensureTextColors=function(){if(!this.yiq)return this.yiq=(299*this.rgb[0]+587*this.rgb[1]+114*this.rgb[2])/1E3};return a}();window.Vibrant=h=function(){function a(a,c,b){this.swatches=p(this.swatches,this);var e;"undefined"===
typeof c&&(c=64);"undefined"===typeof b&&(b=5);a=new u(a);try{var h=a.getImageData();var f=h.data;var g=a.getPixelCount();var l=[];for(e=0;e<g;){var n=4*e;var q=f[n+0];var k=f[n+1];var m=f[n+2];var t=f[n+3];125<=t&&(250<q&&250<k&&250<m||l.push([q,k,m]));e+=b}var v=this.quantize(l,c);this._swatches=v.vboxes.map(function(a){return function(a){return new d(a.color,a.vbox.count())}}(this));this.maxPopulation=this.findMaxPopulation;this.generateVarationColors();this.generateEmptySwatches()}finally{a.removeCanvas()}}
a.prototype.quantize=v("quantize");a.prototype._swatches=[];a.prototype.TARGET_DARK_LUMA=.26;a.prototype.MAX_DARK_LUMA=.45;a.prototype.MIN_LIGHT_LUMA=.55;a.prototype.TARGET_LIGHT_LUMA=.74;a.prototype.MIN_NORMAL_LUMA=.3;a.prototype.TARGET_NORMAL_LUMA=.5;a.prototype.MAX_NORMAL_LUMA=.7;a.prototype.TARGET_MUTED_SATURATION=.3;a.prototype.MAX_MUTED_SATURATION=.4;a.prototype.TARGET_VIBRANT_SATURATION=1;a.prototype.MIN_VIBRANT_SATURATION=.35;a.prototype.WEIGHT_SATURATION=3;a.prototype.WEIGHT_LUMA=6;a.prototype.WEIGHT_POPULATION=
1;a.prototype.VibrantSwatch=void 0;a.prototype.MutedSwatch=void 0;a.prototype.DarkVibrantSwatch=void 0;a.prototype.DarkMutedSwatch=void 0;a.prototype.LightVibrantSwatch=void 0;a.prototype.LightMutedSwatch=void 0;a.prototype.HighestPopulation=0;a.prototype.generateVarationColors=function(){this.VibrantSwatch=this.findColorVariation(this.TARGET_NORMAL_LUMA,this.MIN_NORMAL_LUMA,this.MAX_NORMAL_LUMA,this.TARGET_VIBRANT_SATURATION,this.MIN_VIBRANT_SATURATION,1);this.LightVibrantSwatch=this.findColorVariation(this.TARGET_LIGHT_LUMA,
this.MIN_LIGHT_LUMA,1,this.TARGET_VIBRANT_SATURATION,this.MIN_VIBRANT_SATURATION,1);this.DarkVibrantSwatch=this.findColorVariation(this.TARGET_DARK_LUMA,0,this.MAX_DARK_LUMA,this.TARGET_VIBRANT_SATURATION,this.MIN_VIBRANT_SATURATION,1);this.MutedSwatch=this.findColorVariation(this.TARGET_NORMAL_LUMA,this.MIN_NORMAL_LUMA,this.MAX_NORMAL_LUMA,this.TARGET_MUTED_SATURATION,0,this.MAX_MUTED_SATURATION);this.LightMutedSwatch=this.findColorVariation(this.TARGET_LIGHT_LUMA,this.MIN_LIGHT_LUMA,1,this.TARGET_MUTED_SATURATION,
0,this.MAX_MUTED_SATURATION);return this.DarkMutedSwatch=this.findColorVariation(this.TARGET_DARK_LUMA,0,this.MAX_DARK_LUMA,this.TARGET_MUTED_SATURATION,0,this.MAX_MUTED_SATURATION)};a.prototype.generateEmptySwatches=function(){if(void 0===this.VibrantSwatch&&void 0!==this.DarkVibrantSwatch){var e=this.DarkVibrantSwatch.getHsl();e[2]=this.TARGET_NORMAL_LUMA;this.VibrantSwatch=new d(a.hslToRgb(e[0],e[1],e[2]),0)}if(void 0===this.DarkVibrantSwatch&&void 0!==this.VibrantSwatch)return e=this.VibrantSwatch.getHsl(),
e[2]=this.TARGET_DARK_LUMA,this.DarkVibrantSwatch=new d(a.hslToRgb(e[0],e[1],e[2]),0)};a.prototype.findMaxPopulation=function(){var a;var c=0;var b=this._swatches;var d=0;for(a=b.length;d<a;d++){var h=b[d];c=Math.max(c,h.getPopulation())}return c};a.prototype.findColorVariation=function(a,c,b,d,h,f){var e;var l=void 0;var n=0;var r=this._swatches;var k=0;for(e=r.length;k<e;k++){var m=r[k];var p=m.getHsl()[1];var x=m.getHsl()[2];p>=h&&p<=f&&x>=c&&x<=b&&!this.isAlreadySelected(m)&&(x=this.createComparisonValue(p,
d,x,a,m.getPopulation(),this.HighestPopulation),void 0===l||x>n)&&(l=m,n=x)}return l};a.prototype.createComparisonValue=function(a,c,b,d,h,f){return this.weightedMean(this.invertDiff(a,c),this.WEIGHT_SATURATION,this.invertDiff(b,d),this.WEIGHT_LUMA,h/f,this.WEIGHT_POPULATION)};a.prototype.invertDiff=function(a,c){return 1-Math.abs(a-c)};a.prototype.weightedMean=function(){var a,c,b;var d=1<=arguments.length?q.call(arguments,0):[];for(a=b=c=0;a<d.length;){var h=d[a];var f=d[a+1];c+=h*f;b+=f;a+=2}return c/
b};a.prototype.swatches=function(){return{Vibrant:this.VibrantSwatch,Muted:this.MutedSwatch,DarkVibrant:this.DarkVibrantSwatch,DarkMuted:this.DarkMutedSwatch,LightVibrant:this.LightVibrantSwatch,LightMuted:this.LightMutedSwatch}};a.prototype.isAlreadySelected=function(a){return this.VibrantSwatch===a||this.DarkVibrantSwatch===a||this.LightVibrantSwatch===a||this.MutedSwatch===a||this.DarkMutedSwatch===a||this.LightMutedSwatch===a};a.rgbToHsl=function(a,c,b){a/=255;c/=255;b/=255;var e=Math.max(a,c,
b);var d=Math.min(a,c,b);var f=void 0;var g=(e+d)/2;if(e===d)f=d=0;else{var h=e-d;d=.5<g?h/(2-e-d):h/(e+d);switch(e){case a:f=(c-b)/h+(c<b?6:0);break;case c:f=(b-a)/h+2;break;case b:f=(a-c)/h+4}f/=6}return[f,d,g]};a.hslToRgb=function(a,c,b){var e,d;var f=e=d=void 0;f=function(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a};0===c?d=e=f=b:(c=.5>b?b*(1+c):b+c-b*c,b=2*b-c,d=f(b,c,a+1/3),e=f(b,c,a),f=f(b,c,a-1/3));return[255*d,255*e,255*f]};return a}();window.CanvasImage=
u=function(){function a(a){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");document.body.appendChild(this.canvas);this.width=this.canvas.width=a.width;this.height=this.canvas.height=a.height;this.context.drawImage(a,0,0,this.width,this.height)}a.prototype.clear=function(){return this.context.clearRect(0,0,this.width,this.height)};a.prototype.update=function(a){return this.context.putImageData(a,0,0)};a.prototype.getPixelCount=function(){return this.width*this.height};
a.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};a.prototype.removeCanvas=function(){return this.canvas.parentNode.removeChild(this.canvas)};return a}()}).call(this)},{quantize:1}]},{},[2]);
